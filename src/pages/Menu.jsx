import { useNavigate } from 'react-router-dom';
import { useState } from 'react';
import { Typography, Box, Container } from "@mui/material";
import menu from '../data/MenuData'; // ahora incluye todo: imagen, nombre, items
import MenuCard from "../components/MenuCard/MenuCard";
import MenuModal from "../components/MenuModal";

function Menu() {
  const [open, setOpen] = useState(false);
  const [categoriaSeleccionada, setCategoriaSeleccionada] = useState(null);
  const navigate = useNavigate();


  const handleOpen = (categoria) => {
  if (categoria.name === "ESPECIALIDADES DE LA CASA") {
    navigate('/especialidades'); // o la ruta que uses
  } else {
    setCategoriaSeleccionada(categoria);
    setOpen(true);
  }
};


  const handleClose = () => {
    setOpen(false);
    setCategoriaSeleccionada(null);
  };

  return (
    <Container maxWidth="lg">
      <Typography variant="h4" align="center" 
      sx={{ fontWeight: 900, mt: 6,  
        fontStyle: 'italic',
        fontSize: {
              xs: 'max(5vw, 32px)',
              sm: 'max(3.8vw, 34px)',
              md: 'max(4vw, 40px)',
              lg: 'max(3vw, 44px)',
            }, }}>
        MENÃš
      </Typography>

      <Box
        sx={{
          display: 'grid',
          gridTemplateColumns: 'repeat(auto-fit, minmax(280px, 1fr))',
          justifyContent: 'center',   // ðŸ‘ˆ centra columnas
    placeItems: 'center', 
          gap: 3,
          mt: 4,

        }}
      >
        {menu.map((menuItem, index) => (
          <MenuCard
            key={index}
            menu={menuItem}
            onClick={() => handleOpen(menuItem)} // ðŸ‘ˆ esto activa el modal
          />
        ))}
      </Box>

      {/* Modal */}
      <MenuModal open={open} onClose={handleClose} categoria={categoriaSeleccionada} />
    </Container>
  );
}

export default Menu;
















































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































































